
[95m[1m================================================================================[0m
[95m[1m                    SCRIPT DE V√âRIFICATION DU MODULE BUVETTE                    [0m
[95m[1m================================================================================[0m

Ce script identifie les incoh√©rences et probl√®mes dans le module buvette
avant d'appliquer les corrections.

R√©pertoire de travail: /home/runner/work/V2---Logiciel-Tresorerie-interactifs/V2---Logiciel-Tresorerie-interactifs


[94m[1m--- V√©rification de la structure des fichiers ---[0m
[92m‚úì Fichier trouv√©: db/db.py[0m
[92m‚úì Fichier trouv√©: modules/buvette_db.py[0m
[92m‚úì Fichier trouv√©: modules/buvette.py[0m
[92m‚úì Fichier trouv√©: modules/buvette_inventaire_db.py[0m
[92m‚úì Fichier trouv√©: tests/test_buvette_inventaire.py[0m

[94m[1m--- V√©rification du sch√©ma de base de donn√©es ---[0m
[92m‚úì Colonne 'date_mouvement' trouv√©e dans le sch√©ma[0m
[92m‚úì Colonne 'type_mouvement' trouv√©e dans le sch√©ma[0m
[92m‚úì Colonne 'motif' trouv√©e dans le sch√©ma (pas 'commentaire')[0m

[94m[1m--- V√©rification de modules/buvette_db.py ---[0m
[92m‚úì list_mouvements contient les alias AS date/AS type[0m
[92m‚úì get_mouvement_by_id contient les alias AS date/AS type[0m
[92m‚úì Aucun probl√®me trouv√© dans buvette_db.py[0m

[94m[1m--- V√©rification de modules/buvette.py ---[0m
[92m‚úì InventaireDialog contient columnconfigure[0m
[92m‚úì refresh_lignes utilise article_name[0m
[92m‚úì refresh_bilan prot√®ge les agr√©gations[0m
[92m‚úì Aucun probl√®me trouv√© dans buvette.py[0m

[94m[1m--- Ex√©cution des tests unitaires ---[0m
============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
rootdir: /home/runner/work/V2---Logiciel-Tresorerie-interactifs/V2---Logiciel-Tresorerie-interactifs
collecting ... collected 7 items

tests/test_buvette_inventaire.py::TestBuvetteInventaire::test_insert_inventaire_with_invalid_type_raises_error PASSED [ 14%]
tests/test_buvette_inventaire.py::TestBuvetteInventaire::test_insert_inventaire_with_valid_type_apres PASSED [ 28%]
tests/test_buvette_inventaire.py::TestBuvetteInventaire::test_insert_inventaire_with_valid_type_avant PASSED [ 42%]
tests/test_buvette_inventaire.py::TestBuvetteInventaire::test_insert_inventaire_with_valid_type_hors_evenement PASSED [ 57%]
tests/test_buvette_inventaire.py::TestBuvetteInventaire::test_list_inventaires PASSED [ 71%]
tests/test_buvette_inventaire.py::TestBuvetteInventaire::test_update_inventaire_with_invalid_type_raises_error PASSED [ 85%]
tests/test_buvette_inventaire.py::TestBuvetteInventaire::test_update_inventaire_with_valid_type PASSED [100%]

============================== 7 passed in 0.07s ===============================

[92m‚úì Tous les tests sont pass√©s[0m

[95m[1m================================================================================[0m
[95m[1m                            R√âSUM√â DES V√âRIFICATIONS                            [0m
[95m[1m================================================================================[0m

[92m‚úì ‚úì Aucun probl√®me d√©tect√© ! Le module buvette est conforme.[0m
